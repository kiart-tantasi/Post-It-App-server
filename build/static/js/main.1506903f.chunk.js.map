{"version":3,"sources":["Auth/Auth.module.css","Notes/Update.module.css","Modal/Alert.module.css","Notes/Note.module.css","Adding Note/AddNote.module.css","shared/generateId.js","shared/PostContext.js","Nav/Nav.js","Footer/Footer.js","Notes/Delete.js","Notes/Note.js","Notes/Notes.js","Modal/Alert.js","Adding Note/AddNote.js","Auth/Auth.js","Notes/Update.js","Notes/EditRoute.js","App.js","index.js"],"names":["module","exports","generateId","char","capChar","toUpperCase","toRandom","answer","i","Math","floor","random","length","PostContext","React","createContext","PostContextProvider","props","useState","posts","setPosts","isLoading","setLoading","isLoggedIn","setIsLoggedIn","userName","setUserName","UseEffect","activateUseEffect","logOut","useEffect","a","fetch","credentials","response","ok","json","userData","initialPosts","Error","console","log","message","localStorage","getItem","JSON","parse","reversedArray","reverse","setItem","stringify","_id","item","des","date","Date","getTime","loadData","context","logIn","addPost","options","method","headers","body","then","res","status","data","prev","id","catch","err","time","newPosts","deletePost","filter","x","toString","updatePost","map","Provider","value","children","Header","className","isActive","to","Footer","Delete","useContext","onClick","Note","getDate","getMonth","getFullYear","styles","noTitle","withTitle","ShowNote","Alert","modalBackdrop","modalBox","modalContent","handleButton","AddNote","titleRef","useRef","desRef","expanded","setExpanded","alertMessage","setAlertMessage","alertOn","setAlertOn","closeModal","window","onclick","event","target","document","querySelector","onkeydown","e","key","preventDefault","cursorNone","cursorPointer","onKeyDown","current","focus","type","placeholder","autoComplete","ref","trim","Auth","usernameRef","passwordRef","navigate","useNavigate","registering","setRegistering","userNameState","setUserNameState","mainAuth","logoutButton","toggleAuth","htmlFor","labelUsernamePassword","name","submitAuth","username","password","replace","googleAuth","googleA","href","Update","postId","useParams","thePost","find","borderStyle","setBorderStyle","desBorderStyle","setDesBorderStyle","handleSubmit","title","setTimeout","onSubmit","modalInput","style","modalTextarea","modalButtons","EditRoute","path","element","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1506903f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainAuth\":\"Auth_mainAuth__1FOUR\",\"toggleAuth\":\"Auth_toggleAuth__ZPaQC\",\"submitAuth\":\"Auth_submitAuth__2fE6e\",\"googleAuth\":\"Auth_googleAuth__2hEeo\",\"googleA\":\"Auth_googleA__3Hlj2\",\"labelUsernamePassword\":\"Auth_labelUsernamePassword__2oPP1\",\"userName\":\"Auth_userName__1vZQV\",\"logoutButton\":\"Auth_logoutButton__q04zt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"Update_modalBackdrop__Nk3rm\",\"modalBox\":\"Update_modalBox__2US0f\",\"modalInput\":\"Update_modalInput__1XJSj\",\"modalTextarea\":\"Update_modalTextarea__elT5D\",\"modalButtons\":\"Update_modalButtons__2WLyS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"Alert_modalBackdrop__Y9mrL\",\"modalBox\":\"Alert_modalBox__1w0Yw\",\"modalContent\":\"Alert_modalContent__3sGSA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noTitle\":\"Note_noTitle__CMQgX\",\"withTitle\":\"Note_withTitle__36Pez\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cursorNone\":\"AddNote_cursorNone__Et_kt\",\"cursorPointer\":\"AddNote_cursorPointer__IxanL\"};","export default function generateId() {\r\n    const char = \"abcdefghijklmnopqrstuvwxyz\";\r\n    const capChar = char.toUpperCase();\r\n    const num = \"1234567890\";\r\n    const toRandom = char + capChar + num;\r\n  \r\n    let answer =\"\";\r\n    for (let i=0;i < 30; i++) {\r\n      answer = answer + toRandom[Math.floor(Math.random() * toRandom.length)];\r\n    }\r\n    return answer;\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport generateId from \"./generateId\";\r\n\r\nconst PostContext = React.createContext({});\r\n\r\nfunction PostContextProvider(props) {\r\n  const [posts, setPosts] = useState([]);\r\n  const [ isLoading, setLoading ] = useState(false);\r\n  const [ isLoggedIn, setIsLoggedIn ] = useState(false);\r\n  const [ userName, setUserName ] = useState(\"\");\r\n  const [UseEffect, activateUseEffect] = useState(false);\r\n  \r\n  // -------------------- USE EFFECT -------------------- //\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      setLoading(true);\r\n      let initialPosts;\r\n      // Trying getting data from server first if authenticated\r\n      try {\r\n        const response = await fetch(\"/api/user\",{credentials:\"include\"});\r\n        if (response.ok) {\r\n          const userData = await response.json();\r\n          initialPosts = userData.posts;\r\n          setUserName(userData.userName);\r\n          setIsLoggedIn(true);\r\n        } else {\r\n          throw new Error(\"offline mode activated\")\r\n        }\r\n      // If not authenticated then get data from local storage or just use default posts\r\n      } catch (err) {\r\n        console.log(err.message);\r\n        if (localStorage.getItem(\"myPostIt\")) {\r\n          initialPosts = JSON.parse(localStorage.getItem(\"myPostIt\"));\r\n          // if never updated... 1.0.1\r\n          if (!localStorage.getItem(\"myPostItUpdate\")) {\r\n            const reversedArray = [...initialPosts].reverse();\r\n            localStorage.setItem(\"myPostIt\", JSON.stringify(reversedArray));\r\n            initialPosts = reversedArray;\r\n            localStorage.setItem(\"myPostItUpdate\", JSON.stringify({reversedArray: true}));\r\n          }\r\n        } else {\r\n          initialPosts = [\r\n            {_id: generateId(), item: \"โพสต์แรกของฉัน\", des:\"ดูแลสุขภาพด้วยงับ\", date: new Date().getTime()},\r\n            {_id: generateId(), item: \"ประชุมเช้า\", des:\"วันพุธ เข้าzoomก่อน 10 โมง\", date: new Date().getTime()},\r\n            {_id: generateId(), item: \"จันทร์หน้า\", des:\"ทำ OT ...\", date: new Date().getTime()},\r\n            {_id: generateId(), item: \"หยุดปีใหม่\", des:\"วันศุกร์หน้าแล้ว!\", date: new Date().getTime()}\r\n          ];\r\n          localStorage.setItem(\"myPostIt\", JSON.stringify(initialPosts));\r\n          localStorage.setItem(\"myPostItUpdate\", JSON.stringify({reversedArray: true}));\r\n        }\r\n        setIsLoggedIn(false);\r\n      }\r\n      setPosts(initialPosts);\r\n      setLoading(false);\r\n    }\r\n\r\n    loadData();\r\n\r\n  },[UseEffect]);\r\n  // -------------------- END OF useEffect --------------------//\r\n\r\n  // LOG IN\r\n  function logIn() {\r\n    setIsLoggedIn(true);\r\n    activateUseEffect(!UseEffect);\r\n  }\r\n\r\n  // LOG OUT\r\n  function logOut() {\r\n    setIsLoggedIn(false);\r\n    activateUseEffect(!UseEffect);\r\n  }\r\n\r\n  // ADD A POST\r\n  function addPost(item, des) {\r\n    if (isLoggedIn) {\r\n      const options = {\r\n        method:\"POST\",\r\n        headers: {\"Content-Type\": \"application/json\"},\r\n        body: JSON.stringify({item:item,des:des}),\r\n        credentials: \"include\"\r\n      }\r\n      fetch(\"/api/posts\", options)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else if (res.status === 400) {\r\n          throw new Error(\"No information sent\")\r\n        } else if (res.status === 403) {\r\n          logOut();\r\n          throw new Error(\"No authentication\");\r\n        }\r\n      })\r\n      .then(data => {\r\n        setPosts(prev => {\r\n          return [...prev,{\r\n            _id: data.id,\r\n            item: item,\r\n            des: des,\r\n            date: data.date,\r\n          }]\r\n        })\r\n      })\r\n      .catch((err) => console.log(err.message))\r\n    } else {\r\n      // offline\r\n      const time = new Date().getTime();\r\n      const newPosts = [\r\n        ...posts,{\r\n          _id: generateId(),\r\n          item: item,\r\n          des: des,\r\n          date: time,\r\n        }\r\n      ];\r\n      setPosts(newPosts);\r\n      localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n    }\r\n  }\r\n\r\n  // DELETE A POST\r\n  function deletePost(id) {\r\n    if (isLoggedIn) {\r\n      fetch(\"/api/posts/\"+ id, {method:\"DELETE\", credentials: \"include\"})\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          setPosts(prev => {\r\n            return prev.filter((x) => x._id.toString() !== id.toString());\r\n          })\r\n        } else if (res.status === 403) {\r\n          logOut();\r\n          throw new Error(\"No authentication\");\r\n        } else {\r\n          throw new Error(\"deleting failed.\")\r\n        }\r\n      })\r\n      .catch(err => console.log(err.message));\r\n    } else {\r\n      // offline\r\n      const newPosts = posts.filter((x) => x._id.toString() !== id.toString());\r\n      setPosts(newPosts);\r\n      localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n    }\r\n  }\r\n\r\n  //EDIT A POST\r\n  function updatePost(id, item, des) {\r\n    if (isLoggedIn) {\r\n      const options = {\r\n        method:\"PATCH\",\r\n        headers: {\"Content-Type\": \"application/json\"},\r\n        body: JSON.stringify({item:item,des:des}),\r\n        credentials: \"include\"\r\n      }\r\n      fetch(\"/api/posts/\"+id, options)\r\n      .then(res => {\r\n        if(res.ok) {\r\n          setPosts(prev => {\r\n            return prev.map((x) => (x._id.toString() === id.toString() ? { ...x, item: item, des: des } : x))\r\n          })\r\n        } else if (res.status === 400) {\r\n          throw new Error(\"No information sent\")\r\n        } else if (res.status === 403) {\r\n          logOut();\r\n          throw new Error(\"No authentication\")\r\n        } else {\r\n          throw new Error(\"updating failed.\")\r\n        }\r\n      })\r\n      .catch(err => console.log(err.message));\r\n    } else {\r\n      // offline\r\n      const newPosts = posts.map((x) => (x._id.toString() === id.toString() ? { ...x, item: item, des: des } : x));\r\n      setPosts(newPosts);\r\n      localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n    }\r\n    \r\n  }\r\n\r\n  const context = {\r\n    logIn: logIn,\r\n    logOut: logOut,\r\n    isLoading: isLoading,\r\n    isLoggedIn: isLoggedIn,\r\n    userName: userName,\r\n    posts: posts,\r\n    addPost: addPost,\r\n    deletePost: deletePost,\r\n    updatePost: updatePost,\r\n  };\r\n\r\n  return (\r\n    <PostContext.Provider value={context}>\r\n      {props.children}\r\n    </PostContext.Provider>\r\n  );\r\n}\r\n\r\nexport default PostContext;\r\nexport { PostContextProvider };\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"main-nav\">\r\n      <NavLink\r\n        className={({ isActive }) => (isActive ? \"route-active\" : \"route\")}\r\n        to=\"/posts\"\r\n      >\r\n        โพสต์อิท\r\n      </NavLink>\r\n      <NavLink\r\n        className={({ isActive }) => (isActive ? \"route-active\" : \"route\")}\r\n        to=\"/authentication\"\r\n      >\r\n        บัญชี\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p>Copyright 2021 © created and designed by Kiart Tantasi</p>\r\n        </footer>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport PostContext from \"../shared/PostContext\";\r\n\r\nexport default function Delete(props) {\r\n\r\n    const { deletePost } = useContext(PostContext);\r\n  \r\n    function handleDelete() {\r\n      deletePost(props.id);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <button className=\"delete-button\" onClick={handleDelete}>\r\n            <DeleteIcon />\r\n        </button>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Delete from \"./Delete\";\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./Note.module.css\";\r\n\r\nexport default function Note(props) {\r\n  const date = new Date(props.date).getDate().toString() + \"/\" + ( new Date(props.date).getMonth() + 1 ).toString() + \"/\" + new Date(props.date).getFullYear().toString() || \"no date described.\";\r\n\r\n  return (\r\n    <div className=\"Item-block\">\r\n\r\n      <div className=\"item-block-flex\">\r\n        <div className=\"item-block-flex-body\">\r\n          <h3>{props.item}</h3>\r\n          <p className={`description-text ${(props.item === \"\") ? styles.noTitle : styles.withTitle}`}>{props.des}</p>\r\n        </div>\r\n\r\n        <div className=\"item-block-footer item-block-flex-footer\">\r\n          <div className=\"footer-date\">\r\n            <p className=\"date-text\">{date}</p>\r\n          </div>\r\n          <div className=\"footer-buttons\">\r\n            <Link to={`/posts/edit/${props.id}`}><button><EditIcon className=\"edit-icon\" /></button></Link>\r\n            <Delete id={props.id} />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport Note from \"./Note\";\r\n\r\nexport default function ShowNote(props) {\r\n  const posts = [...props.posts];\r\n  return (\r\n    <div className=\"Show-item\">      \r\n      {posts.reverse().map((x) => {\r\n        return (\r\n          <Note\r\n            key={x._id}\r\n            id={x._id}\r\n            item={x.item}\r\n            des={x.des}\r\n            date={x.date}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport styles from \"./Alert.module.css\"\r\n\r\n\r\nexport default function Alert(props) {\r\n    \r\n    // function handleButton() {\r\n    //     setModalOn(false);\r\n    // }\r\n\r\n    // window.onclick = function(event) {\r\n    //     if (event.target === document.querySelector(\".close-modal\")) {\r\n    //         setModalOn(false);\r\n    //     }\r\n    // }\r\n\r\n    return (\r\n        <div className={` ${styles.modalBackdrop} close-modal`}>\r\n            <div className={`${styles.modalBox} ${styles.modalContent}`}>\r\n                <h1>{props.message}</h1>\r\n                <button onClick={props.handleButton}>ปิด</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import styles from \"./AddNote.module.css\"\r\nimport React, { useState, useRef, useContext } from \"react\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport PostContext from \"../shared/PostContext\";\r\nimport Alert from \"../Modal/Alert\";\r\n\r\nexport default function AddNote(props) {\r\n  const titleRef = useRef();\r\n  const desRef = useRef();\r\n  const { addPost } = useContext(PostContext);\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [alertMessage,setAlertMessage] = useState(\"\");\r\n  const [alertOn, setAlertOn] = useState(false);\r\n\r\n  function handleTitleOn() {\r\n    if (expanded === false) {\r\n      setExpanded(true);\r\n    }\r\n  }\r\n\r\n  function handleTitleKeyPress(e) {\r\n    if (e.key === \"Enter\" || e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      desRef.current.focus();\r\n    }\r\n  }\r\n\r\n  function handleDesKeyDown(e) {\r\n    if (e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      titleRef.current.focus();\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // FAILED\r\n    if (expanded === false) {\r\n      setAlertMessage(\"โปรดระบุข้อความ\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    \r\n    const item = titleRef.current.value.trim() || \"\";\r\n    const des = desRef.current.value.trim() || \"\";\r\n    if (!item && !des) {\r\n      setAlertMessage(\"โปรดระบุข้อความ\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    if (item.length > 25) {\r\n      setAlertMessage(\"หัวข้อยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    if (item.length !== 0 && des.length > 95) {\r\n      setAlertMessage(\"รายละเอียดยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    } else if (item.length === 0 && des.length > 120) {\r\n      setAlertMessage(\"รายละเอียดยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n\r\n    // SUCCESS\r\n    addPost(item, des);\r\n    titleRef.current.value = \"\";\r\n    desRef.current.value = \"\";\r\n    desRef.current.focus();\r\n  }\r\n\r\n  function closeModal() {\r\n    setAlertOn(false);\r\n  }\r\n\r\n  window.onclick = function(event) {\r\n      if (event.target === document.querySelector(\".close-modal\")) {\r\n          closeModal();\r\n      }\r\n  }\r\n\r\n  window.onkeydown = (e) => {\r\n    if (alertOn) {\r\n      if (e.key === \"Enter\" || e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        closeModal();\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {alertOn && <Alert message={alertMessage} handleButton={closeModal} />}\r\n    <div className=\"Add-item\">\r\n      <form>\r\n        <div className={`Two-input ${expanded ? styles.cursorNone : styles.cursorPointer}`}>\r\n          {expanded && <input\r\n            className=\"install-font\"\r\n            onKeyDown={handleTitleKeyPress}\r\n            type=\"text\"\r\n            placeholder=\"หัวข้อ\"\r\n            autoComplete=\"off\"\r\n            ref={titleRef}\r\n          ></input>}\r\n          \r\n          <input\r\n            className=\"install-font\"\r\n            onClick={handleTitleOn}\r\n            onKeyDown={handleDesKeyDown}\r\n            type=\"text\"\r\n            placeholder=\"โพสต์อิท !\"\r\n            autoComplete=\"off\"\r\n            ref={desRef}\r\n          ></input>\r\n\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          onClick={handleSubmit}\r\n        >\r\n          <AddIcon />\r\n        </button>\r\n      </form>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport PostContext from '../shared/PostContext';\r\nimport styles from \"./Auth.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Alert from '../Modal/Alert';\r\n\r\nexport default function Auth() {\r\n    const { isLoggedIn, logIn, logOut, userName } = useContext(PostContext);\r\n    const usernameRef = useRef(\"\");\r\n    const passwordRef = useRef(\"\");\r\n    const navigate = useNavigate();\r\n    const [ registering, setRegistering ] = useState(false);\r\n    const [ userNameState, setUserNameState ] = useState(\"POST IT APP\");\r\n    const [alertMessage,setAlertMessage] = useState(\"\");\r\n    const [alertOn, setAlertOn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn !== false && userName !== \"\") {\r\n            setUserNameState(userName);\r\n        }\r\n    },[isLoggedIn, userName])\r\n\r\n    function handleToggle() {\r\n        setRegistering(!registering);\r\n    }\r\n\r\n    function handleLogIn(e) {\r\n        e.preventDefault();\r\n        const username = usernameRef.current.value;\r\n        const password = passwordRef.current.value;\r\n        if (!username || !password) {\r\n            setAlertMessage(\"โปรดระบุ username และ password\");\r\n            setAlertOn(true);\r\n            return;\r\n        }\r\n        const options = {\r\n            method:\"POST\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify({username:username, password:password}),\r\n            credentials: \"include\"\r\n        }\r\n        // register\r\n        if (registering) {\r\n            fetch(\"/api/register\", options)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    console.log(\"registered successfully\");\r\n                    usernameRef.current.value = \"\";\r\n                    passwordRef.current.value = \"\";\r\n                    setAlertMessage(\"ลงทะเบียนสำเร็จ\");\r\n                    setAlertOn(true);\r\n                    setRegistering(false);\r\n                } else if (res.status === 403) {\r\n                    setAlertMessage(\"username นี้ถูกใช้งานแล้ว\");\r\n                    setAlertOn(true);\r\n                } else {\r\n                    setAlertMessage(\"การลงทะเบียนล้มเหลว\");\r\n                    setAlertOn(true);\r\n                    \r\n                }\r\n            })\r\n        // log in\r\n        } else if (!registering) {\r\n            fetch(\"/api/login\", options)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    console.log(\"logged in successfully\");\r\n                    logIn();\r\n                    navigate(\"/posts\",{ replace: true });\r\n                } else if (res.status === 401) {\r\n                    setAlertMessage(\"username หรือ password ไม่ถูกต้อง\");\r\n                    setAlertOn(true);\r\n                } else {\r\n                    setAlertMessage(\"การเข้าสู่ระบบล้มเหลว\");\r\n                    setAlertOn(true);\r\n                }\r\n            })\r\n            .catch((err) => console.log(err.message));\r\n        }\r\n    }\r\n\r\n    function handleLogOut() {\r\n        fetch(\"/api/logout\", {credentials:\"include\", method:\"POST\"})\r\n        .then(res => {\r\n          if (res.ok) {\r\n            console.log(\"logged out successfully\");\r\n            logOut();\r\n          } else {\r\n              logOut();\r\n              throw new Error(\"failed logging out.\")\r\n          }\r\n        })\r\n        .catch(err => console.log(err.message));\r\n    }\r\n\r\n    function closeModal() {\r\n        setAlertOn(false);\r\n    }\r\n\r\n    window.onclick = function(event) {\r\n        if (event.target === document.querySelector(\".close-modal\")) {\r\n            closeModal();\r\n        }\r\n    }\r\n\r\n    window.onkeydown = (e) => {\r\n        if (alertOn) {\r\n          if (e.key === \"Enter\" || e.key === \"Escape\") {\r\n            e.preventDefault();\r\n            closeModal();\r\n          }\r\n        }\r\n      }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <>\r\n            {alertOn && <Alert message={alertMessage} handleButton={closeModal} />}\r\n            <div className={styles.mainAuth}>\r\n                <button className={styles.toggleAuth} onClick={handleToggle}>ต้องการ{(registering) ? \"เข้าสู่ระบบ\" : \"สมัครใช้งาน\"}</button>\r\n                <br/><br/>\r\n                <form>\r\n                    <label htmlFor=\"username\" className={styles.labelUsernamePassword}>username</label>\r\n                    <br/>\r\n                    <input type=\"text\" ref={usernameRef} name=\"username\" autoComplete=\"off\" />\r\n                    <br/><br/>\r\n                    <label htmlFor=\"password\" className={styles.labelUsernamePassword}>password</label>\r\n                    <br/>\r\n                    <input type=\"password\" ref={passwordRef} name=\"password\" autoComplete=\"off\" />\r\n                    <br/><br/>\r\n                    <button className={styles.submitAuth} onClick={handleLogIn} type=\"submit\">{(registering) ? \"ลงทะเบียน\" : \"เข้าสู่ระบบ\"}</button>\r\n                    <br/><br/>\r\n                    <button className={styles.googleAuth}><a className={styles.googleA} href=\"/api/auth/google\">เข้าสู่ระบบ/สมัครด้วย GOOGLE ACCOUNT</a></button>\r\n                    {/* when testing on 3000, use below */}\r\n                    {/* <button className={styles.googleAuth}><a className={styles.googleA} href=\"http://localhost:4000/api/auth/google\">เข้าสู่ระบบ/สมัครโดย GOOGLE (3000)</a></button> */}\r\n                </form>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div className={styles.mainAuth}>\r\n            <h1 className={styles.userName}>{userNameState}</h1>\r\n            <br/>\r\n            <button className={styles.logoutButton} type=\"button\" onClick={handleLogOut}>ออกจากระบบ</button>\r\n            <br/><br/>\r\n        </div>\r\n    )\r\n}\r\n","import styles from \"./Update.module.css\";\r\nimport React, {useRef, useContext, useEffect, useState} from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport PostContext from \"../shared/PostContext\";\r\n\r\nexport default function Update() {\r\n    const { postId } = useParams();\r\n    const { posts, updatePost } = useContext(PostContext);\r\n    const thePost = posts.find(x => x._id.toString() === postId);\r\n    const navigate = useNavigate();\r\n    const titleRef = useRef();\r\n    const desRef = useRef();\r\n    const [ borderStyle, setBorderStyle ] = useState({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n    const [ desBorderStyle, setDesBorderStyle ] = useState({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n\r\n    useEffect(() => {\r\n        if (posts.length > 0) {\r\n            titleRef.current.value = thePost.item;\r\n            desRef.current.value = thePost.des;\r\n            desRef.current.focus();\r\n        }\r\n    },[posts, thePost])\r\n\r\n    window.onclick = function(event) {\r\n        if (event.target === document.querySelector(\".backdrop-div\")) {\r\n            navigate(\"/posts\",{ replace: true });\r\n        }\r\n    }\r\n\r\n    function handleTitleKeyDown(e) {\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n            desRef.current.focus();\r\n        } else if (e.key === \"ArrowDown\") {\r\n            e.preventDefault();\r\n            desRef.current.focus();\r\n        }\r\n    }\r\n\r\n    function handleDesKeyDown(e) {\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n            handleSubmit(e);\r\n        } else if (e.key === \"ArrowUp\") {\r\n            e.preventDefault();\r\n            titleRef.current.focus();\r\n        }\r\n    }\r\n\r\n    function handleCancel(e) {\r\n        navigate(\"/posts\",{ replace: true });        \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const id = postId;\r\n        const title = titleRef.current.value;\r\n        const des = desRef.current.value;\r\n        if (title === thePost.item && des === thePost.des) {\r\n            navigate(\"/posts\", {replace:true});\r\n            return;\r\n        }\r\n        if (title.length > 25) {\r\n            setBorderStyle({\"border\":\"1px solid red\"});\r\n            setTimeout(() => {\r\n                setBorderStyle({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n            }, 3000);\r\n            return;\r\n        }\r\n        if (title.length !== 0 && des.length > 95) {\r\n            setDesBorderStyle({\"border\":\"1px solid red\"});\r\n            setTimeout(() => {\r\n                setDesBorderStyle({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n            }, 3000);\r\n            return;\r\n        } else if (title.length === 0 && des.length > 120) {\r\n            setDesBorderStyle({\"border\":\"1px solid red\"});\r\n            setTimeout(() => {\r\n                setDesBorderStyle({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n            }, 3000);\r\n            return;\r\n        }\r\n        updatePost(id,title,des);\r\n        navigate(\"/posts\", {replace:true});\r\n    }\r\n\r\n    return (\r\n        <div className={`backdrop-div ${styles.modalBackdrop}`}>\r\n            <div className={styles.modalBox}>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" ref={titleRef} className={styles.modalInput} style={borderStyle} onKeyDown={handleTitleKeyDown} />\r\n                    <br/><br/>\r\n                    <textarea onKeyDown={handleDesKeyDown} type=\"text\" ref={desRef} className={styles.modalTextarea} style={desBorderStyle} />\r\n                    <div className={styles.modalButtons}>\r\n                        <button type=\"button\" onClick={handleCancel}>ยกเลิก</button>\r\n                        <button type=\"submit\">อัปเดต</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Update from \"./Update\";\r\nimport {Routes, Route} from \"react-router-dom\";\r\n\r\n\r\nexport default function EditRoute() {\r\n    return (\r\n        <Routes>\r\n            <Route path=\"edit\">\r\n            <Route path=\":postId\" element={<Update />} />\r\n            </Route>\r\n        </Routes>\r\n    )\r\n}\r\n","import \"./css/App.css\"\r\nimport \"./css/Media-Query.css\";\r\nimport React, { useContext } from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport PostContext from \"./shared/PostContext\";\r\nimport Nav from \"./Nav/Nav\";\r\nimport Footer from \"./Footer/Footer\";\r\nimport Notes from \"./Notes/Notes\";\r\nimport AddNote from \"./Adding Note/AddNote\";\r\nimport Auth from \"./Auth/Auth\";\r\nimport EditRoute from \"./Notes/EditRoute\";\r\n\r\nexport default function App() {\r\n\r\n  const { isLoading } = useContext(PostContext);\r\n  const { posts } = useContext(PostContext);\r\n\r\n  if (isLoading) {\r\n    return <div>\r\n      <h1 style={{\"textAlign\":\"center\",\"marginTop\":\"30px\"}}>LOADING...</h1>\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-container\">\r\n      <Nav />\r\n      <div className=\"flex-main-body\">\r\n      <Routes>\r\n        <Route path=\"/posts/*\" element={<div><AddNote /><Notes posts={posts} /><EditRoute /></div>} />\r\n        <Route path=\"/authentication\" element={<Auth />} />\r\n        <Route path=\"/*\" element={<Navigate to=\"/posts\" />} />\r\n      </Routes>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport { PostContextProvider } from \"./shared/PostContext\";\r\n\r\nReactDOM.render(\r\n  <PostContextProvider>\r\n    <React.StrictMode>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </React.StrictMode>\r\n  </PostContextProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}