{"version":3,"sources":["pages/Auth.module.css","components/AddNote.module.css","layout/Nav.module.css","modals/EditModal.module.css","modals/AlertModal.module.css","layout/Footer.module.css","components/Notes.module.css","context/generateId.js","context/fetchData.js","context/PostContext.js","layout/Nav.js","layout/Footer.js","layout/Layout.js","modals/AlertModal.js","components/AddNote.js","components/Delete.js","components/Note.js","components/Notes.js","modals/EditModal.js","components/Edit.js","pages/Main.js","pages/Auth.js","App.js","index.js","components/Note.module.css"],"names":["module","exports","generateId","char","capChar","toUpperCase","toRandom","answer","i","Math","floor","random","length","fetchData","a","fetch","credentials","response","ok","json","userData","initialPosts","posts","userName","isLoggedIn","Error","console","log","message","localStorage","getItem","retrievedPosts","JSON","parse","reversedArray","reverse","setItem","stringify","_id","item","des","date","Date","getTime","PostContext","React","createContext","PostContextProvider","props","useState","setPosts","setIsLoggedIn","setUserName","isLoading","setIsLoading","refreshData","data","context","logIn","logOut","addPost","id","prev","deletePost","filter","x","toString","updatePost","map","Provider","value","children","Header","className","styles","isActive","route","to","Footer","footer","Layout","Alert","modalBackdrop","modalBox","modalContent","onClick","handleButton","AddNote","titleRef","useRef","desRef","expanded","setExpanded","alertMessage","setAlertMessage","alertOn","setAlertOn","useContext","closeModal","window","onclick","event","target","document","querySelector","onkeydown","e","key","preventDefault","cursorNone","cursorPointer","onKeyDown","current","focus","type","placeholder","autoComplete","ref","trim","options","method","headers","body","then","res","status","catch","err","newItemId","getDate","newPosts","Delete","Note","getMonth","getFullYear","noTitle","withTitle","ShowNote","reversedPosts","notes","Update","postId","useParams","thePost","find","navigate","useNavigate","borderStyle","setBorderStyle","desBorderStyle","setDesBorderStyle","handleSubmit","setTitleRed","setTimeout","setDesRed","replace","useEffect","onSubmit","modalInput","style","modalTextarea","modalButtons","EditRoute","path","element","Main","Fragment","Auth","usernameRef","passwordRef","registering","setRegistering","mainAuth","logoutButton","toggleAuth","htmlFor","labelUsernamePassword","name","submitAuth","username","password","googleAuth","googleA","href","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5da2a9f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainAuth\":\"Auth_mainAuth__2ZaZ0\",\"toggleAuth\":\"Auth_toggleAuth__1_tZS\",\"submitAuth\":\"Auth_submitAuth__3-hrr\",\"googleAuth\":\"Auth_googleAuth__3v-IN\",\"googleA\":\"Auth_googleA__1NmnJ\",\"labelUsernamePassword\":\"Auth_labelUsernamePassword__2VK9P\",\"userName\":\"Auth_userName__2pbIz\",\"logoutButton\":\"Auth_logoutButton__1Q9iA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cursorNone\":\"AddNote_cursorNone__d9LIG\",\"cursorPointer\":\"AddNote_cursorPointer__1F34S\",\"Add-item\":\"AddNote_Add-item__3Vgbj\",\"title-input\":\"AddNote_title-input__nPgHt\",\"Two-input\":\"AddNote_Two-input__2V-Uv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-nav\":\"Nav_main-nav__3LSxB\",\"route\":\"Nav_route__3xW3k\",\"route-active\":\"Nav_route-active__24Xg2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"EditModal_modalBackdrop__3QvLq\",\"modalBox\":\"EditModal_modalBox__2wodi\",\"modalInput\":\"EditModal_modalInput__3ITpW\",\"modalTextarea\":\"EditModal_modalTextarea__11_oI\",\"modalButtons\":\"EditModal_modalButtons__1PPq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalBackdrop\":\"AlertModal_modalBackdrop__gkwGj\",\"modalBox\":\"AlertModal_modalBox__1E7Of\",\"modalContent\":\"AlertModal_modalContent__3saFV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__Uthdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes\":\"Notes_notes__VPg_J\"};","export default function generateId() {\r\n    const char = \"abcdefghijklmnopqrstuvwxyz\";\r\n    const capChar = char.toUpperCase();\r\n    const num = \"1234567890\";\r\n    const toRandom = char + capChar + num;\r\n  \r\n    let answer =\"\";\r\n    for (let i=0;i < 30; i++) {\r\n      answer = answer + toRandom[Math.floor(Math.random() * toRandom.length)];\r\n    }\r\n    return answer;\r\n}","import generateId from \"./generateId\";\r\n\r\nexport default async function fetchData() {\r\n    let initialPosts;\r\n    let userName;\r\n    let isLoggedIn;\r\n    try {\r\n      const response = await fetch(\"/api/user\",{credentials:\"include\"});\r\n      if (response.ok) {\r\n        const userData = await response.json();\r\n        initialPosts = userData.posts;\r\n        userName = userData.userName;\r\n        isLoggedIn = true;\r\n      } else {\r\n        throw new Error(\"offline mode activated\")\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n      if (localStorage.getItem(\"myPostIt\")) {\r\n        const retrievedPosts = JSON.parse(localStorage.getItem(\"myPostIt\"));\r\n        if (!localStorage.getItem(\"myPostItUpdate\")) {\r\n          const reversedArray = [...retrievedPosts].reverse();\r\n          localStorage.setItem(\"myPostIt\", JSON.stringify(reversedArray));\r\n          initialPosts = reversedArray;\r\n          localStorage.setItem(\"myPostItUpdate\", JSON.stringify({reversedArray: true}));\r\n        } else {\r\n            initialPosts = retrievedPosts;\r\n        }\r\n      } else {\r\n        initialPosts = [\r\n          {_id: generateId(), item: \"โพสต์แรกของฉัน\", des:\"ดูแลสุขภาพด้วยงับ\", date: new Date().getTime()},\r\n          {_id: generateId(), item: \"ประชุมเช้า\", des:\"วันพุธ เข้าzoomก่อน 10 โมง\", date: new Date().getTime()},\r\n          {_id: generateId(), item: \"จันทร์หน้า\", des:\"ทำ OT ...\", date: new Date().getTime()},\r\n          {_id: generateId(), item: \"หยุดปีใหม่\", des:\"วันศุกร์หน้าแล้ว!\", date: new Date().getTime()}\r\n        ];\r\n        localStorage.setItem(\"myPostIt\", JSON.stringify(initialPosts));\r\n        localStorage.setItem(\"myPostItUpdate\", JSON.stringify({reversedArray: true}));\r\n      }\r\n      isLoggedIn = false;\r\n    }\r\n    return {\r\n        posts: initialPosts,\r\n        isLoggedIn: isLoggedIn,\r\n        userName: userName\r\n    } \r\n}","import React, { useState } from \"react\";\r\nimport fetchData from \"./fetchData\";\r\n\r\nconst PostContext = React.createContext({});\r\n\r\nfunction PostContextProvider(props) {\r\n  const [posts, setPosts] = useState([]);\r\n  const [ isLoggedIn, setIsLoggedIn ] = useState(false);\r\n  const [ userName, setUserName ] = useState(\"\");\r\n  const [ isLoading, setIsLoading ] = useState(false);\r\n\r\n  async function refreshData() {\r\n    setIsLoading(true);\r\n    const data = await fetchData();\r\n    setPosts(data.posts);\r\n    setIsLoggedIn(data.isLoggedIn);\r\n    setUserName(data.userName);\r\n    setIsLoading(false);\r\n  }\r\n  \r\n  function logIn() {\r\n    setIsLoggedIn(true);\r\n    refreshData();\r\n  }\r\n\r\n  function logOut() {\r\n    setIsLoggedIn(false);\r\n    refreshData();\r\n  }\r\n\r\n  function addPost(id,item,des,date) {\r\n    setPosts(prev => {\r\n      return [...prev,{\r\n        _id: id,\r\n        item: item,\r\n        des: des,\r\n        date: date,\r\n      }]\r\n    })\r\n  }\r\n\r\n  function deletePost(id) {\r\n    setPosts(prev => {\r\n      return prev.filter((x) => x._id.toString() !== id.toString());\r\n    })  \r\n  }\r\n\r\n  function updatePost(id, item, des) {\r\n    setPosts(prev => {\r\n      return prev.map((x) => (x._id.toString() === id.toString() ? { ...x, item: item, des: des } : x))\r\n    })\r\n  }\r\n\r\n  const context = {\r\n    // authen\r\n    logIn: logIn,\r\n    logOut: logOut,\r\n    isLoggedIn: isLoggedIn,\r\n    setIsLoggedIn: setIsLoggedIn,\r\n\r\n    //loading and username\r\n    isLoading: isLoading,\r\n    setIsLoading: setIsLoading,\r\n    userName: userName,\r\n    setUserName: setUserName,\r\n\r\n    // posts\r\n    posts: posts,\r\n    setPosts: setPosts,\r\n    addPost: addPost,\r\n    deletePost: deletePost,\r\n    updatePost: updatePost,\r\n  };\r\n\r\n  return (\r\n    <PostContext.Provider value={context}>\r\n      {props.children}\r\n    </PostContext.Provider>\r\n  );\r\n}\r\n\r\nexport default PostContext;\r\nexport { PostContextProvider };","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./Nav.module.css\";\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className={styles[\"main-nav\"]}>\r\n      <NavLink\r\n        className={({ isActive }) => (isActive ? styles[\"route-active\"] : styles.route)}\r\n        to=\"/posts\"\r\n      >\r\n        โพสต์อิท\r\n      </NavLink>\r\n      <NavLink\r\n        className={({ isActive }) => (isActive ? styles[\"route-active\"] : styles.route)}\r\n        to=\"/account\"\r\n      >\r\n        บัญชี\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport styles from \"./Footer.module.css\"; \r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className={styles.footer}>\r\n            <p>Copyright 2022 © created and designed by Kiart Tantasi</p>\r\n        </footer>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Nav from \"./Nav\";\r\nimport Footer from \"./Footer\";\r\n\r\nexport default function Layout(props) {\r\n  return (\r\n    <>\r\n      <Nav />\r\n      {props.children}\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport styles from \"./AlertModal.module.css\"\r\n\r\n\r\nexport default function Alert(props) {\r\n\r\n    return (\r\n        <div className={` ${styles.modalBackdrop} close-modal`}>\r\n            <div className={`${styles.modalBox} ${styles.modalContent}`}>\r\n                <h1>{props.message}</h1>\r\n                <button onClick={props.handleButton}>ปิด</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import styles from \"./AddNote.module.css\"\r\nimport React, { useState, useRef, useContext } from \"react\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport PostContext from \"../context/PostContext\";\r\nimport Alert from \"../modals/AlertModal\";\r\nimport generateId from \"../context/generateId\";\r\n\r\nexport default function AddNote() {\r\n  const titleRef = useRef();\r\n  const desRef = useRef();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [alertMessage,setAlertMessage] = useState(\"\");\r\n  const [alertOn, setAlertOn] = useState(false);\r\n  const { posts, addPost, isLoggedIn, logOut } = useContext(PostContext);\r\n\r\n  function handleTitleOn() {\r\n    if (expanded === false) {\r\n      setExpanded(true);\r\n    }\r\n  }\r\n\r\n  function handleTitleKeyPress(e) {\r\n    if (e.key === \"Enter\" || e.key === \"ArrowDown\") {\r\n      e.preventDefault();\r\n      desRef.current.focus();\r\n    }\r\n  }\r\n\r\n  function handleDesKeyDown(e) {\r\n    if (e.key === \"ArrowUp\") {\r\n      e.preventDefault();\r\n      titleRef.current.focus();\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // FAILED\r\n    if (expanded === false) {\r\n      setAlertMessage(\"โปรดระบุข้อความ\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    \r\n    const item = titleRef.current.value.trim() || \"\";\r\n    const des = desRef.current.value.trim() || \"\";\r\n    if (!item && !des) {\r\n      setAlertMessage(\"โปรดระบุข้อความ\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    if (item.length > 25) {\r\n      setAlertMessage(\"หัวข้อยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n    if (item.length !== 0 && des.length > 95) {\r\n      setAlertMessage(\"รายละเอียดยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    } else if (item.length === 0 && des.length > 120) {\r\n      setAlertMessage(\"รายละเอียดยาวเกินไป\");\r\n      setAlertOn(true);\r\n      return;\r\n    }\r\n\r\n    // SUCCESS\r\n    //online adding\r\n    if (isLoggedIn) {\r\n      const options = {\r\n        method:\"POST\",\r\n        headers: {\"Content-Type\": \"application/json\"},\r\n        body: JSON.stringify({item:item,des:des}),\r\n        credentials: \"include\"\r\n      }\r\n      fetch(\"/api/posts\", options)\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json()\r\n        } else if (res.status === 400) {\r\n          throw new Error(\"No information sent\")\r\n        } else {\r\n          logOut();\r\n          throw new Error(\"No authentication\");\r\n        }\r\n      })\r\n      .then(data => {\r\n        addPost(data.id,item,des,data.date);\r\n      })\r\n      .catch((err) => console.log(err.message))\r\n    //offline adding\r\n    } else {\r\n      const newItemId = generateId();\r\n      const getDate = new Date().getTime();\r\n      const newPosts = [\r\n        ...posts,{\r\n          _id: newItemId,\r\n          item: item,\r\n          des: des,\r\n          date: getDate,\r\n        }\r\n      ];\r\n      localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n      addPost(newItemId, item, des, getDate);\r\n    }\r\n    \r\n    titleRef.current.value = \"\";\r\n    desRef.current.value = \"\";\r\n    desRef.current.focus();\r\n  }\r\n\r\n  function closeModal() {\r\n    setAlertOn(false);\r\n  }\r\n\r\n  window.onclick = function(event) {\r\n      if (event.target === document.querySelector(\".close-modal\")) {\r\n          closeModal();\r\n      }\r\n  }\r\n\r\n  window.onkeydown = (e) => {\r\n    if (alertOn) {\r\n      if (e.key === \"Enter\" || e.key === \"Escape\") {\r\n        e.preventDefault();\r\n        closeModal();\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    {alertOn && <Alert message={alertMessage} handleButton={closeModal} />}\r\n    <div className={styles[\"Add-item\"]}>\r\n      <form>\r\n        <div className={` ${styles[\"Two-input\"]} ${expanded ? styles.cursorNone : styles.cursorPointer}`}>\r\n          {expanded && <input\r\n            className={styles[\"title-input\"]}\r\n            onKeyDown={handleTitleKeyPress}\r\n            type=\"text\"\r\n            placeholder=\"หัวข้อ (optional)\"\r\n            autoComplete=\"off\"\r\n            ref={titleRef}\r\n          ></input>}\r\n          \r\n          <input\r\n            className={styles[\"des-input\"]}\r\n            onClick={handleTitleOn}\r\n            onKeyDown={handleDesKeyDown}\r\n            type=\"text\"\r\n            placeholder=\"โพสต์อิท !\"\r\n            autoComplete=\"off\"\r\n            ref={desRef}\r\n          ></input>\r\n\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          onClick={handleSubmit}\r\n        >\r\n          <AddIcon />\r\n        </button>\r\n      </form>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport PostContext from \"../context/PostContext\";\r\n\r\nexport default function Delete(props) {\r\n\r\n    const { posts, deletePost, isLoggedIn, logOut } = useContext(PostContext);\r\n    const id = props.id;\r\n  \r\n    function handleDelete() {\r\n        //online deleting\r\n        if (isLoggedIn) {\r\n            fetch(\"/api/posts/\"+ id.toString(), {method:\"DELETE\", credentials: \"include\"})\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    deletePost(id)\r\n                } else if (res.status === 403) {\r\n                    logOut();\r\n                    throw new Error(\"No authentication\");\r\n                } else {\r\n                    logOut();\r\n                    throw new Error(\"deleting failed.\")\r\n                }\r\n            })\r\n            .catch(err => console.log(err.message));\r\n        //offline deleting\r\n        } else {\r\n            const newPosts = posts.filter((x) => x._id.toString() !== id.toString());\r\n            localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n            deletePost(id);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <button className=\"delete-button\" onClick={handleDelete}>\r\n            <DeleteIcon />\r\n        </button>\r\n        </>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport Delete from \"../components/Delete\";\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./Note.module.css\";\r\n\r\nexport default function Note(props) {\r\n  const date = new Date(props.date).getDate().toString() + \"/\" + ( new Date(props.date).getMonth() + 1 ).toString() + \"/\" + new Date(props.date).getFullYear().toString() || \"no date described.\";\r\n\r\n  return (\r\n    <div className={styles[\"Item-block\"]}>\r\n\r\n      <div className={styles[\"item-block-flex-container\"]}>\r\n        <div className={styles[\"item-block-flex-body\"]}>\r\n          <h3>{props.item}</h3>\r\n          <p className={` ${styles[\"description-text\"]} ${(props.item === \"\") ? styles.noTitle : styles.withTitle}`}>{props.des}</p>\r\n        </div>\r\n\r\n        <div className={` ${styles[\"item-block-footer\"]} ${styles[\"item-block-flex-footer\"]} `}>\r\n          <div className={styles[\"footer-date\"]}>\r\n            <p className={styles[\"date-text\"]}>{date}</p>\r\n          </div>\r\n          <div className={styles[\"footer-buttons\"]}>\r\n            <Link to={`/posts/edit/${props.id}`}><button><EditIcon className=\"edit-icon\" /></button></Link>\r\n            <Delete id={props.id} />\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useContext } from \"react\";\r\nimport Note from \"./Note\";\r\nimport PostContext from \"../context/PostContext\";\r\nimport styles from \"./Notes.module.css\";\r\n\r\nexport default function ShowNote() {\r\n  const { posts } = useContext(PostContext);\r\n  const reversedPosts = [...posts].reverse();\r\n\r\n  return (\r\n    <div className={styles.notes}>      \r\n      {reversedPosts.map((x) => {\r\n        return (\r\n          <Note\r\n            key={x._id}\r\n            id={x._id}\r\n            item={x.item}\r\n            des={x.des}\r\n            date={x.date}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}","import styles from \"./EditModal.module.css\";\r\nimport React, {useRef, useContext, useEffect, useState} from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport PostContext from \"../context/PostContext\";\r\n\r\nexport default function Update() {\r\n    const { postId } = useParams();\r\n    const { isLoggedIn, logOut, posts, updatePost } = useContext(PostContext);\r\n    const thePost = posts.find(x => x._id.toString() === postId);\r\n    const navigate = useNavigate();\r\n    const titleRef = useRef();\r\n    const desRef = useRef();\r\n    const [ borderStyle, setBorderStyle ] = useState({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n    const [ desBorderStyle, setDesBorderStyle ] = useState({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n\r\n    useEffect(() => {\r\n        if (posts.length > 0) {\r\n            titleRef.current.value = thePost.item;\r\n            desRef.current.value = thePost.des;\r\n            desRef.current.focus();\r\n        }\r\n    },[posts, thePost])\r\n\r\n    window.onclick = function(event) {\r\n        if (event.target === document.querySelector(\".backdrop-div\")) {\r\n            navigate(\"/posts\",{ replace: true });\r\n        }\r\n    }\r\n\r\n    function handleTitleKeyDown(e) {\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n            desRef.current.focus();\r\n        } else if (e.key === \"ArrowDown\") {\r\n            e.preventDefault();\r\n            desRef.current.focus();\r\n        }\r\n    }\r\n\r\n    function handleDesKeyDown(e) {\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n            handleSubmit(e);\r\n        } else if (e.key === \"ArrowUp\") {\r\n            e.preventDefault();\r\n            titleRef.current.focus();\r\n        }\r\n    }\r\n\r\n    function handleCancel(e) {\r\n        navigate(\"/posts\",{ replace: true });        \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        const id = postId;\r\n        const item = titleRef.current.value.trim();\r\n        const des = desRef.current.value.trim();\r\n\r\n        function setTitleRed() {\r\n            setBorderStyle({\"border\":\"1px solid red\"});\r\n            setTimeout(() => {\r\n                setBorderStyle({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n            }, 3000);\r\n        }\r\n\r\n        function setDesRed() {\r\n            setDesBorderStyle({\"border\":\"1px solid red\"});\r\n            setTimeout(() => {\r\n                setDesBorderStyle({\"border\":\"1px solid rgba(0,0,0,0.5)\"});\r\n            }, 3000);\r\n        }\r\n\r\n        if (item === thePost.item && des === thePost.des) {\r\n            navigate(\"/posts\"); //push\r\n            return;\r\n        }\r\n\r\n        if (item.length === 0 && des.length === 0) {\r\n            setTitleRed();\r\n            setDesRed();\r\n            return;\r\n        }\r\n\r\n        if (item.length > 25 && des.length > 95) {\r\n            setTitleRed();\r\n            setDesRed();\r\n            return;\r\n        }\r\n\r\n        if (item.length > 25) {\r\n            setTitleRed();\r\n            return;\r\n\r\n        }\r\n\r\n        if (des.length > 95 && item.length !== 0) { //Description comes with title.\r\n            setDesRed();\r\n            return;\r\n        }\r\n        \r\n        if (des.length > 120 && item.length === 0) { // No title, only description\r\n            setDesRed();\r\n            return;\r\n        }\r\n\r\n        // SUCCESS\r\n        //online updating      \r\n        if (isLoggedIn) {\r\n            const options = {\r\n            method:\"PATCH\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify({item:item,des:des}),\r\n            credentials: \"include\"\r\n            }\r\n            fetch(\"/api/posts/\"+id, options)\r\n            .then(res => {\r\n                if(res.ok) {\r\n                    //online updating\r\n                    updatePost(id,item,des);\r\n                } else if (res.status === 400) {\r\n                    throw new Error(\"No information sent\")\r\n                } else if (res.status === 403) {\r\n                    logOut();\r\n                    throw new Error(\"No authentication\")\r\n                } else {\r\n                    logOut();\r\n                    throw new Error(\"updating failed.\")\r\n                }\r\n            })\r\n            .catch(err => console.log(err.message));\r\n        //offline updating\r\n        } else {\r\n            \r\n            const newPosts = posts.map((x) => (x._id.toString() === id.toString() ? { ...x, item: item, des: des } : x));\r\n            localStorage.setItem(\"myPostIt\", JSON.stringify(newPosts));\r\n            updatePost(id,item,des);\r\n        }\r\n        navigate(\"/posts\", {replace:true});\r\n    }\r\n\r\n    return (\r\n        <div className={`backdrop-div ${styles.modalBackdrop}`}>\r\n            <div className={styles.modalBox}>\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" ref={titleRef} className={styles.modalInput} style={borderStyle} onKeyDown={handleTitleKeyDown} />\r\n                    <br/><br/>\r\n                    <textarea onKeyDown={handleDesKeyDown} type=\"text\" ref={desRef} className={styles.modalTextarea} style={desBorderStyle} />\r\n                    <div className={styles.modalButtons}>\r\n                        <button type=\"button\" onClick={handleCancel}>ยกเลิก</button>\r\n                        <button type=\"submit\">อัปเดต</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Edit from \"../modals/EditModal\";\r\nimport {Routes, Route} from \"react-router-dom\";\r\n\r\nexport default function EditRoute() {\r\n    return (\r\n        <Routes>\r\n            <Route path=\"edit\">\r\n                <Route path=\":postId\" element={<Edit />} />\r\n            </Route>\r\n        </Routes>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport AddNote from '../components/AddNote';\r\nimport Notes from \"../components/Notes\";\r\nimport Edit from \"../components/Edit\";\r\n\r\nexport default function Main() {\r\n    return (\r\n        <React.Fragment>\r\n            <AddNote />\r\n            <Notes />\r\n            <Edit />\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React, { useContext, useRef, useState } from 'react'\r\nimport PostContext from '../context/PostContext';\r\nimport styles from \"./Auth.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Alert from '../modals/AlertModal';\r\n\r\nexport default function Auth() {\r\n    const { isLoggedIn, logIn, logOut, userName } = useContext(PostContext);\r\n    const usernameRef = useRef(\"\");\r\n    const passwordRef = useRef(\"\");\r\n    const navigate = useNavigate();\r\n    const [ registering, setRegistering ] = useState(false);\r\n    const [alertMessage,setAlertMessage] = useState(\"\");\r\n    const [alertOn, setAlertOn] = useState(false);\r\n\r\n    function handleToggle() {\r\n        setRegistering(!registering);\r\n    }\r\n\r\n    function handleLogIn(e) {\r\n        e.preventDefault();\r\n        const username = usernameRef.current.value;\r\n        const password = passwordRef.current.value;\r\n        if (!username || !password) {\r\n            setAlertMessage(\"โปรดระบุ username และ password\");\r\n            setAlertOn(true);\r\n            return;\r\n        }\r\n        const options = {\r\n            method:\"POST\",\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify({username:username, password:password}),\r\n            credentials: \"include\"\r\n        }\r\n        // register\r\n        if (registering) {\r\n            fetch(\"/api/register\", options)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    console.log(\"registered successfully\");\r\n                    usernameRef.current.value = \"\";\r\n                    passwordRef.current.value = \"\";\r\n                    setAlertMessage(\"ลงทะเบียนสำเร็จ\");\r\n                    setAlertOn(true);\r\n                    setRegistering(false);\r\n                } else if (res.status === 403) {\r\n                    setAlertMessage(\"username นี้ถูกใช้งานแล้ว\");\r\n                    setAlertOn(true);\r\n                } else {\r\n                    setAlertMessage(\"การลงทะเบียนล้มเหลว\");\r\n                    setAlertOn(true);\r\n                    \r\n                }\r\n            })\r\n        // log in\r\n        } else if (!registering) {\r\n            fetch(\"/api/login\", options)\r\n            .then(res => {\r\n                if (res.ok) {\r\n                    console.log(\"logged in successfully\");\r\n                    logIn();\r\n                    navigate(\"/posts\",{ replace: true });\r\n                } else if (res.status === 401) {\r\n                    setAlertMessage(\"username หรือ password ไม่ถูกต้อง\");\r\n                    setAlertOn(true);\r\n                } else {\r\n                    setAlertMessage(\"การเข้าสู่ระบบล้มเหลว\");\r\n                    setAlertOn(true);\r\n                }\r\n            })\r\n            .catch((err) => console.log(err.message));\r\n        }\r\n    }\r\n\r\n    function handleLogOut() {\r\n        fetch(\"/api/logout\", {credentials:\"include\", method:\"POST\"})\r\n        .then(res => {\r\n          if (res.ok) {\r\n            console.log(\"logged out successfully\");\r\n            logOut();\r\n          } else {\r\n              logOut();\r\n              throw new Error(\"failed logging out.\")\r\n          }\r\n        })\r\n        .catch(err => console.log(err.message));\r\n    }\r\n\r\n    function closeModal() {\r\n        setAlertOn(false);\r\n    }\r\n\r\n    window.onclick = function(event) {\r\n        if (event.target === document.querySelector(\".close-modal\")) {\r\n            closeModal();\r\n        }\r\n    }\r\n\r\n    window.onkeydown = (e) => {\r\n        if (alertOn) {\r\n          if (e.key === \"Enter\" || e.key === \"Escape\") {\r\n            e.preventDefault();\r\n            closeModal();\r\n          }\r\n        }\r\n    }\r\n\r\n    function handleEnterFlow(e) {\r\n        if (e.key === \"Enter\") {\r\n            e.preventDefault();\r\n            passwordRef.current.focus();\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <>\r\n            {alertOn && <Alert message={alertMessage} handleButton={closeModal} />}\r\n            <div className={styles.mainAuth}>\r\n                <button className={styles.toggleAuth} onClick={handleToggle}>ต้องการ{(registering) ? \"เข้าสู่ระบบ\" : \"สมัครใช้งาน\"}</button>\r\n                <br/><br/>\r\n                <form>\r\n                    <label htmlFor=\"username\" className={styles.labelUsernamePassword}>username</label>\r\n                    <br/>\r\n                    <input type=\"text\" ref={usernameRef} name=\"username\" autoComplete=\"off\" onKeyDown={handleEnterFlow} />\r\n                    <br/><br/>\r\n                    <label htmlFor=\"password\" className={styles.labelUsernamePassword}>password</label>\r\n                    <br/>\r\n                    <input type=\"password\" ref={passwordRef} name=\"password\" autoComplete=\"off\" />\r\n                    <br/><br/>\r\n                    <button className={styles.submitAuth} onClick={handleLogIn} type=\"submit\">{(registering) ? \"ลงทะเบียน\" : \"เข้าสู่ระบบ\"}</button>\r\n                    <br/><br/>\r\n                    <button className={styles.googleAuth}><a className={styles.googleA} href=\"/api/auth/google\">เข้าสู่ระบบ/สมัครด้วย GOOGLE ACCOUNT</a></button>\r\n                    {/* when testing on 3000, use below */}\r\n                    {/* <button className={styles.googleAuth}><a className={styles.googleA} href=\"http://localhost:4000/api/auth/google\">เข้าสู่ระบบ/สมัครโดย GOOGLE (3000)</a></button> */}\r\n                </form>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n    return (\r\n        <div className={styles.mainAuth}>\r\n            <h1 className={styles.userName}>{userName || \"\"}</h1>\r\n            <br/>\r\n            <button className={styles.logoutButton} type=\"button\" onClick={handleLogOut}>ออกจากระบบ</button>\r\n            <br/><br/>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport PostContext from \"./context/PostContext\";\r\nimport Layout from \"./layout/Layout\";\r\nimport Main from \"./pages/Main\";\r\nimport Auth from \"./pages/Auth\";\r\nimport fetchData from \"./context/fetchData\";\r\nimport \"./App.css\";\r\n\r\nexport default function App() {\r\n  const { isLoading, setIsLoading, setPosts, setIsLoggedIn, setUserName } = useContext(PostContext);\r\n\r\n  useEffect(() => {\r\n    async function refreshData() {\r\n      setIsLoading(true);\r\n      const data = await fetchData();\r\n      setPosts(data.posts);\r\n      setIsLoggedIn(data.isLoggedIn);\r\n      setUserName(data.userName);\r\n      setIsLoading(false);\r\n    }\r\n    refreshData();\r\n  }, [setIsLoading, setIsLoggedIn, setPosts, setUserName]);\r\n\r\n  if (isLoading) {\r\n    return <div>\r\n      <h1 style={{\"textAlign\":\"center\",\"marginTop\":\"30px\"}}>LOADING...</h1>\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex-container\">\r\n      <Layout>\r\n      <div className=\"flex-main-body\">\r\n      <Routes>\r\n        <Route path=\"/posts/*\" element={<Main />} />\r\n        <Route path=\"/account\" element={<Auth />} />\r\n        <Route path=\"/*\" element={<Navigate to=\"/posts\" />} />\r\n      </Routes>\r\n      </div>\r\n      </Layout>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport { PostContextProvider } from \"./context/PostContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <PostContextProvider>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </PostContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noTitle\":\"Note_noTitle__3yhs-\",\"withTitle\":\"Note_withTitle__3Kw89\",\"Item-block\":\"Note_Item-block__3tgU5\",\"description-text\":\"Note_description-text__3dt3t\",\"item-block-footer\":\"Note_item-block-footer__2wNfO\",\"date-text\":\"Note_date-text__3BMF6\",\"footer-buttons\":\"Note_footer-buttons__3r1ym\",\"item-block-flex-container\":\"Note_item-block-flex-container__glae5\",\"item-block-flex-footer\":\"Note_item-block-flex-footer__1Uvhb\",\"item-block-flex-body\":\"Note_item-block-flex-body__27nY9\",\"footer-date\":\"Note_footer-date__12Frm\"};"],"sourceRoot":""}